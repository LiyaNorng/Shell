<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 14">
<meta name=Originator content="Microsoft Word 14">
<link rel=File-List href="4560prog1w16_files/filelist.xml">
<link rel=Edit-Time-Data href="4560prog1w16_files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>CS 4560</title>
<link rel=themeData href="4560prog1w16_files/themedata.thmx">
<link rel=colorSchemeMapping href="4560prog1w16_files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>110</w:Zoom>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>X-NONE</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:DontVertAlignCellWithSp/>
   <w:DontBreakConstrainedForcedTables/>
   <w:DontVertAlignInTxbx/>
   <w:Word11KerningPairs/>
   <w:CachedColBalance/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
  DefSemiHidden="true" DefQFormat="false" DefPriority="99"
  LatentStyleCount="267">
  <w:LsdException Locked="false" Priority="0" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 9"/>
  <w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" Priority="10" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" Priority="11" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" Priority="22" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="59" SemiHidden="false"
   UnhideWhenUsed="false" Name="Table Grid"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;}
a:link, span.MsoHyperlink
	{mso-style-noshow:yes;
	mso-style-priority:99;
	color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-noshow:yes;
	mso-style-priority:99;
	color:purple;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-margin-top-alt:auto;
	margin-right:0in;
	mso-margin-bottom-alt:auto;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{mso-style-noshow:yes;
	mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-add-space:auto;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{mso-style-noshow:yes;
	mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-type:export-only;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-add-space:auto;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{mso-style-noshow:yes;
	mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-type:export-only;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-add-space:auto;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{mso-style-noshow:yes;
	mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-type:export-only;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	mso-add-space:auto;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman","serif";
	mso-fareast-font-family:"Times New Roman";
	mso-fareast-theme-font:minor-fareast;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	font-size:10.0pt;
	mso-ansi-font-size:10.0pt;
	mso-bidi-font-size:10.0pt;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.0in 1.0in 1.0in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 @list l0
	{mso-list-id:207688302;
	mso-list-template-ids:1596989366;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l0:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l0:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l1
	{mso-list-id:243881262;
	mso-list-template-ids:-118054998;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level2
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level3
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level4
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level5
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level6
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level7
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level8
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l1:level9
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l2
	{mso-list-id:478694573;
	mso-list-type:hybrid;
	mso-list-template-ids:-1980059428 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l2:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l2:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3
	{mso-list-id:807672503;
	mso-list-template-ids:416844998;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3:level2
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3:level3
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3:level4
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3:level5
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3:level6
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3:level7
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3:level8
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3:level9
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l4
	{mso-list-id:1027019996;
	mso-list-template-ids:-889315768;}
@list l4:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l4:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman","serif";}
</style>
<![endif]-->
<meta name=Template content="C:\PROGRAM FILES\MICROSOFT OFFICE\OFFICE\html.dot">
<meta name=Author content="Kevin Brown">
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1026"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body bgcolor=white lang=EN-US link=blue vlink=purple style='tab-interval:.5in'>

<div class=WordSection1>

<p class=MsoNormal><b><span style='font-size:13.5pt;mso-fareast-font-family:
"Times New Roman"'>CS 4560</span></b><span style='mso-fareast-font-family:"Times New Roman"'>
<o:p></o:p></span></p>

<p><b>Winter 2016</b></p>

<p><b>Program 1</b> </p>

<p><b>Due: Monday, February <span class=GramE>1st .</span></b> </p>

<div class=MsoNormal align=center style='text-align:center'><span
style='mso-fareast-font-family:"Times New Roman"'>

<hr size=2 width="100%" align=center>

</span></div>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'><br>
<b>Objectives:</b> <o:p></o:p></span></p>

<p>Build your own shell.</p>

<p><b style='mso-bidi-font-weight:normal'>Background:<o:p></o:p></b></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>This project consists of modifying a C program which serves as a
shell interface that accepts user commands and then executes each command in a
separate process. A shell interface provides the user a prompt after which the
next command is entered. The example below illustrates the prompt <span
class=SpellE>sh</span>&gt; and user’s next command: “cat <span class=SpellE>prog.c</span>”.
This command displays the contents of the file <span class=SpellE>prog.c</span>
on the terminal using the UNIX cat command.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><span style='mso-fareast-font-family:
"Times New Roman";color:#363639'>sh</span></span></span><span style='mso-fareast-font-family:
"Times New Roman";color:#363639'>&gt; cat <span class=SpellE>prog.c</span><o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>One technique for implementing a shell interface is to have the
parent process first read what the<span style='mso-tab-count:1'>  </span>user
enters on the command line (i.e. cat <span class=SpellE>prog.c</span>), and
then create a separate child process that performs the command. Unless
otherwise specified, the parent process waits for the child to exit before
continuing. This is similar in functionality to what is illustrated in Figure
3.11 (8<sup>th</sup> edition) or Figure 3.10 (9<sup>th</sup> edition) in the
text. However, UNIX shells typically also allow the child process to run in the
background (concurrently with the parent) as well by specifying the ampersand
(&amp;) at the end of the command. By rewriting the above command as: <o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><span style='mso-fareast-font-family:
"Times New Roman";color:#363639'>sh</span></span></span><span style='mso-fareast-font-family:
"Times New Roman";color:#363639'>&gt; cat <span class=SpellE>prog.c</span>
&amp;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>The parent and child processes now run concurrently.<span
style='mso-spacerun:yes'>  </span>The separate child process is created using
the <span class=GramE>fork(</span> ) system call and the user’s command is
executed by using one of the system calls in the exec( ) family (as described
in the text, Section 3.3.1).<o:p></o:p></span></p>

<p class=MsoNormal style='text-indent:.5in'><span style='mso-fareast-font-family:
"Times New Roman";color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='mso-fareast-font-family:"Times New Roman";color:#363639'>A Simple Shell<o:p></o:p></span></b></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='mso-fareast-font-family:"Times New Roman";color:#363639'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>A C program that provides the basic operation of a command line
shell is supplied in Code I. This program is composed of two functions: <span
class=GramE>main(</span> ) and setup( ). The <span class=GramE>setup(</span> )
function reads in the user’s next command (which can be up to 80 characters),
and then parses it into separate tokens that are used to fill the argument
vector for the command to be executed. (If the command is to be run in the
background, it will end with ‘&amp; ’, and <span class=GramE>setup(</span> )
will update the parameter “background” so the main( ) function can act
accordingly. This program is terminated when the user enters ‘exit’.<span
style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>The <span class=GramE>main(</span> ) function presents the
prompt COMMAND-&gt; and then invokes setup( ) , which waits for the users to
enter a command. The contents of the command entered by the user are loaded
into the <span class=SpellE>args</span> array. For example, if the user enters
“ls –l” at the COMMAND-&gt; prompt, <span class=SpellE><span class=GramE>args</span></span><span
class=GramE>[</span>0] becomes equal to the string “ls” and <span class=SpellE>args</span>[1]
is set to the string to “-l”. (By “string”, we mean a null-terminated, C-style
string variable.)<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>#include &lt;<span class=SpellE>stdio.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>#include &lt;<span class=SpellE>unistd.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>#define MAX_LINE 80<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>/* <span class=GramE>setup(</span> ) reads in the next command
line, separating it into distinct tokens using whitespace as delimiters.<span
style='mso-spacerun:yes'>  </span>setup( ) modifies the <span class=SpellE>args</span>
parameter so that it holds pointers to the null-terminated strings that are the
tokens in the most recent user command line as well as a NULL pointer,
indicating the end of the argument list, which comes after the string pointers
that have been assigned to <span class=SpellE>args</span>. */<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=GramE><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>void</span></span><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'> setup (char <span class=SpellE>inputBuffer</span>[], char *<span
class=SpellE>args</span>[], <span class=SpellE>int</span> *background)<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>{<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>/* full source code posted separately */<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>}<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><span style='mso-fareast-font-family:
"Times New Roman";color:#363639'>int</span></span></span><span
style='mso-fareast-font-family:"Times New Roman";color:#363639'> main (void)<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>{<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>  </span><span class=GramE>char</span>
<span class=SpellE>inputBuffer</span>[MAX_LINE] ;<span
style='mso-spacerun:yes'>   </span>/* buffer to hold command entered */ <o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>  </span><span class=SpellE><span
class=GramE>int</span></span> background; /* equals 1 if a command is followed
by ‘&amp; ’ */<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>  </span><span class=GramE>char</span>
*<span class=SpellE>args</span> [MAX_LINE/2 + 1];<span
style='mso-spacerun:yes'>  </span>/* command line arguments */<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>  </span><span class=GramE>while</span>
(1) {<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>     </span><span class=GramE>background</span>
= 0 ;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>     </span><span class=SpellE><span
class=GramE>printf</span></span> (“ COMMAND -&gt;”) ;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>     </span><span class=GramE>setup</span>
(<span class=SpellE>inputBuffer</span>, <span class=SpellE>args</span>,
&amp;background) ;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>     </span>/** the steps are:<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span>(0) <span class=GramE>If</span>
command is built-in, print command results to terminal.<span
style='mso-spacerun:yes'>  </span>If command is exit, print statistics and <span
class=GramE>exit()</span><o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span>(1) <span class=GramE>fork</span>
a child process using fork( )<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span>(2) <span class=GramE>the</span>
child process will invoke <span class=SpellE>execvp</span>( )<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span>(3) <span class=GramE>if</span>
background == 1, the parent will wait,<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span><span class=GramE>otherwise</span>
it will invoke the setup ( ) function again. */<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>  </span>}<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>}<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>Code I. Outline of simple shell.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>This project is organized into two parts: (1) creating the child
process and executing the command in the child, and (2) modifying the shell to
add built-in commands such as a history feature.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='mso-fareast-font-family:"Times New Roman";color:#363639'>Creating a
Child Process<o:p></o:p></span></b></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>The first part of this project is to modify the <span
class=GramE>main(</span> ) function in Code I so that upon returning from
setup( ), a child process is forked and executes the command specified by the
user<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>As noted above, the setup ( ) function loads the contents of the
<span class=SpellE>args</span> array with the command specified by the user.
This <span class=SpellE>args</span> array will be passed to the <span
class=SpellE><span class=GramE>execvp</span></span><span class=GramE>(</span> )
function, which has the following interface:<o:p></o:p></span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><span style='mso-fareast-font-family:
"Times New Roman";color:#363639'>execvp</span></span></span><span
style='mso-fareast-font-family:"Times New Roman";color:#363639'> (char
*command, char *<span class=SpellE>params</span>[ ] ) ;<o:p></o:p></span></p>

<p class=MsoNormal><span class=GramE><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>where</span></span><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'> “command” represents the command to be performed and “<span
class=SpellE>params</span>” stores the parameters to this command. For this
project, the <span class=SpellE><span class=GramE>execvp</span></span><span
class=GramE>(</span> ) function should be invoked as <span class=SpellE>execvp</span>(<span
class=SpellE>args</span>[0], <span class=SpellE>args</span>); be sure to check
the value of background to determine if the parent process is to wait for the
child to exit or not.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
style='mso-fareast-font-family:"Times New Roman";color:#363639'>Creating a
History Feature<o:p></o:p></span></b></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>The next task is to modify the program in Code I so that it
provides a history feature that allows the user access up to the 10 most
recently entered commands. These commands will be numbered starting at 1 and
will continue to grow larger even past 10, e.g. if the user has entered 35
commands, the 10 most recent commands should be numbered 26 to 35. This history
feature will be implemented using a few different techniques.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>First, the user will be able to list these commands when he/she
presses &lt;Control&gt; &lt;z&gt;, which is the SIGTSTP signal. UNIX systems
use signals to notify a process that a particular event has occurred.<span
style='mso-spacerun:yes'>  </span>Signals may be either synchronous or
asynchronous, depending upon the source and the reason for the event being
signaled. Once a signal has been generated by the occurrence of a certain event
(e.g., division by zero, illegal memory access, user entering
&lt;Control&gt;&lt;z&gt;, etc.), the signal is delivered to a process where it
must be handled. A process receiving a signal may handle it by one of the
following techniques:<o:p></o:p></span></p>

<p class=MsoListParagraphCxSpFirst style='text-indent:-.25in;mso-list:l2 level1 lfo2'><![if !supportLists]><span
style='font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family:
Symbol;color:#363639'><span style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>Ignoring the signal<o:p></o:p></span></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:-.25in;mso-list:l2 level1 lfo2'><![if !supportLists]><span
style='font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family:
Symbol;color:#363639'><span style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>Using the default signal handler or<o:p></o:p></span></p>

<p class=MsoListParagraphCxSpLast style='text-indent:-.25in;mso-list:l2 level1 lfo2'><![if !supportLists]><span
style='font-family:Symbol;mso-fareast-font-family:Symbol;mso-bidi-font-family:
Symbol;color:#363639'><span style='mso-list:Ignore'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>Providing a separate signal-handling function.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>Signals may be handled by first setting certain fields in the C
structure to the <span class=SpellE><span class=GramE>sigaction</span></span><span
class=GramE>(</span> ) function.<span style='mso-spacerun:yes'>  </span>Signals
are defined in the include file /<span class=SpellE>usr</span>/include/sys/<span
class=SpellE>signal.h</span>.<span style='mso-spacerun:yes'>  </span>For
example, the signal SIGTSTP represents the signal for suspending a program with
the control sequence &lt;Ctrl&gt;&lt;z&gt;.<span style='mso-spacerun:yes'> 
</span>The default signal handler for SIGTSTP is to suspend execution of the
program.<span style='mso-spacerun:yes'>  </span>(It can be restarted with the <span
class=SpellE><span class=GramE>fg</span></span> command.)<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>Alternatively, a program may choose to set up its own
signal-handling function by setting the <span class=SpellE>sa_handler</span>
field in <span class=SpellE>struct</span> <span class=SpellE>sigaction</span>
to the name of the function which will handle the signal and then invoking the <span
class=SpellE>sigaction</span>( ) function, passing it (1) the signal we are
setting up a handler for, and (2) a pointer to <span class=SpellE>struct</span>
<span class=SpellE>sigaction</span>.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>In Code II we show a C program that uses the function <span
class=SpellE>handle_<span class=GramE>SIGINT</span></span><span class=GramE>(</span>
) for handling the SIGINT signal. This function prints out the message “Caught
Control C” and then invokes the exit ( ) function to terminate the program. (We
must use the <span class=GramE>write(</span> ) function for performing output
rather than the more common <span class=SpellE>printf</span> ( ) as the former is
known as being </span><span style='mso-bidi-font-weight:bold'>s</span><span
style='mso-fareast-font-family:"Times New Roman";color:#363639'>ignal-safe,
indicating it can be called from inside a signal-handling function;<span
style='mso-spacerun:yes'>  </span>Such guarantees cannot be made of <span
class=SpellE>printf</span> ( ) . )<span style='mso-spacerun:yes'>  </span>This
program will run in the while (1) loop until the user enters the sequence
&lt;Control&gt;&lt;c&gt;. When this occurs, the signal-handling function <span
class=SpellE>handle_<span class=GramE>SIGINT</span></span><span class=GramE>(</span>
) is invoked.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>#include &lt;<span class=SpellE>signal.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>#include &lt;<span class=SpellE>unistd.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>#include &lt;<span class=SpellE>stdio.h</span>&gt;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>#define BUFFER_SIZE 50<o:p></o:p></span></p>

<p class=MsoNormal><span class=GramE><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>char</span></span><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'> buffer[BUFFER_SIZE] ;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>/*the signal handling function */ <o:p></o:p></span></p>

<p class=MsoNormal><span class=GramE><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>void</span></span><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'> <span class=SpellE>handle_SIGTSTP</span>( )<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>{<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span><span class=GramE>write</span>
(STDOUT_FILENO, <span class=SpellE>buffer,strlen</span> (buffer) ) ;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span><span class=GramE>exit</span>
(0) ;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>}<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><span style='mso-fareast-font-family:
"Times New Roman";color:#363639'>int</span></span></span><span
style='mso-fareast-font-family:"Times New Roman";color:#363639'> main (<span
class=SpellE>int</span> <span class=SpellE>argc</span>, char *<span
class=SpellE>argv</span>[ ] )<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>{<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span>/* set up the signal
handler */<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span><span class=SpellE><span
class=GramE>struct</span></span> <span class=SpellE>sigaction</span> handler ;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span><span class=GramE>handler</span>.
<span class=SpellE>sa_handler</span> = <span class=SpellE>handle_<span
class=GramE>SIGTSTP</span></span><span class=GramE> ;</span><o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span><span class=SpellE><span
class=GramE>sigaction</span></span> (SIGTSTP, &amp;handler , NULL);<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span>/*<span class=GramE>Generate</span>
the output message */<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span><span class=SpellE><span
class=GramE>strcpy</span></span><span class=GramE>(</span>buffer, “Caught
Control-z\n”) ;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span>/*loop until we
receive &lt;Control&gt;&lt;z&gt; */<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span><span class=GramE>while</span>
(1)<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>        </span>;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><span style='mso-spacerun:yes'>    </span><span class=GramE>return</span>
0;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>}<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>Code II. Signal-handling program <o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>The signal-handling function should be declared above <span
class=GramE>main(</span>) and, because control can be transferred to this
function at any point, no parameters may be passed to this function. Therefore,
any data that it must access in your program must be declared globally, i.e. at
the top of the source file before your function declarations. Before returning
from the signal-handling function, it should reissue the command prompt.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'>If the user enters &lt;Control&gt;&lt;z&gt;, your signal handler
must output a list of the most recent 10 commands, with their associated
numbers.<span style='mso-spacerun:yes'>  </span>With this list, the user can
run any of the previous 10 commands by entering “r x” where ‘x’ is the number
of that command.<span style='mso-spacerun:yes'>  </span>Also, the user should
be able to run the most recent command again by just entering ‘r’. You can
assume that only one space will separate the ‘r’ and the number and that the
number will be followed by ‘/n’. Again, ‘r’ alone will be immediately followed
by the /n character if it is wished to execute the most recent command.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<div style='mso-element:para-border-div;border:none;border-bottom:solid windowtext 1.0pt;
mso-border-bottom-alt:solid windowtext .75pt;padding:0in 0in 1.0pt 0in'>

<p class=MsoNormal style='border:none;mso-border-bottom-alt:solid windowtext .75pt;
padding:0in;mso-padding-alt:0in 0in 1.0pt 0in'><span style='mso-fareast-font-family:
"Times New Roman";color:#363639'>Any command that is executed in this fashion
should be echoed on the user’s screen and the command is also placed in the
history buffer as the next command. (r x does not go into the history list; the
actual command that it specifies, though does.)<o:p></o:p></span></p>

<p class=MsoNormal style='border:none;mso-border-bottom-alt:solid windowtext .75pt;
padding:0in;mso-padding-alt:0in 0in 1.0pt 0in'><span style='mso-fareast-font-family:
"Times New Roman";color:#363639'><o:p>&nbsp;</o:p></span></p>

</div>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman";
color:#363639'><o:p>&nbsp;</o:p></span></p>

<p><b>Details for our class:</b> </p>

<p><span style='mso-fareast-font-family:"Times New Roman"'>A shell is a command
line interpreter which often has some functionality built in, and spawns off
processes to handle other functions.&nbsp; You will be writing a simple shell
which spawns off processes to handle most commands.&nbsp;&nbsp; Your shell will
also provide a history function.&nbsp; Your shell must<span class=GramE>:</span><br>
<br>
1.&nbsp;&nbsp; When your shell starts up, it must print a greeting and its <span
class=SpellE>pid</span>.&nbsp; You can use <span class=SpellE><span
class=GramE>getpid</span></span><span class=GramE>(</span>) to get the <span
class=SpellE>pid</span>.&nbsp; Example:<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&quot;Welcome to <span class=SpellE>kbshell</span>.&nbsp; My <span
class=SpellE>pid</span> is 26357.&quot;<br>
<br>
2.&nbsp;&nbsp; The shell prompt must be &quot;<span class=SpellE>xxshell</span>[n]:&quot;,
where xx are your initials, and n is the number of prompts shown so far
(starting at 1 and increasing).&nbsp; Example:<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span
class=SpellE><span class=GramE>kbshell</span></span><span class=GramE>[</span>1]:<br>
<br>
3.&nbsp;&nbsp; The shell must support two internal commands (and the history
command described in item 5):</span></p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo5;tab-stops:list .5in'><span class=GramE>whisper</span>
     – which converts the entered string to all lowercase and prints it back to
     the terminal.<span style='mso-spacerun:yes'>  </span>Example: “<span
     class=SpellE><span class=GramE>kbshell</span></span><span class=GramE>[</span>1]:whisper
     THIS IS FUN” will print “this is fun”<span style='mso-spacerun:yes'> 
     </span>This is similar to the echo function of the bash shell on the Linux
     machines except for the capitals.<span style='mso-spacerun:yes'> 
     </span>You can use the <span class=SpellE><span class=GramE>tolower</span></span><span
     class=GramE>(</span>) function to help implement this command.<span
     style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo5;tab-stops:list .5in'><span class=GramE><span
     style='mso-fareast-font-family:"Times New Roman"'>exit</span></span><span
     style='mso-fareast-font-family:"Times New Roman"'> - which prints some
     statistics on your shell process and terminates the shell.&nbsp; You can
     use the <span class=GramE>system(</span>) function call to invoke the <span
     class=SpellE>ps</span> command to print the statistics.&nbsp; Use the
     user-defined format &quot;-o&quot; and these arguments <span class=SpellE>pid<span
     class=GramE>,ppid,pcpu,pmem,etime,user,command</span></span>.&nbsp; Only
     print statistics for your shell process, not other processes (which can be
     done by specifying your <span class=SpellE><span class=GramE>pid</span></span>
     using the –p option). Then <span class=GramE>exit(</span>) out.&nbsp;
     Example:<o:p></o:p></span></li>
</ul>

<div style='margin-left:60.0pt'>

<p class=MsoNormal style='margin-bottom:12.0pt'><span class=SpellE><span
class=GramE><span style='mso-fareast-font-family:"Times New Roman"'>kbshell</span></span></span><span
class=GramE><span style='mso-fareast-font-family:"Times New Roman"'>[</span></span><span
style='mso-fareast-font-family:"Times New Roman"'>6]: exit<br>
PID&nbsp; PPID %CPU %MEM&nbsp;&nbsp;&nbsp;&nbsp; ELAPSED
USER&nbsp;&nbsp;&nbsp;&nbsp; COMMAND<br>
26329 26328&nbsp; 0.0&nbsp; 0.2&nbsp;&nbsp;&nbsp; 02:12:46 <span class=SpellE>kbrown</span>&nbsp;&nbsp;
-<span class=SpellE>kbshell</span><o:p></o:p></span></p>

</div>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>4.&nbsp;&nbsp;
For any other command, the shell should <span class=GramE>fork(</span>) a new
process and <span class=SpellE>execvp</span>() the command.&nbsp; You are given
quite a bit of code including the <span class=GramE>setup(</span>) function
which tokenizes the user input and places the arguments into a vector (perfect
for <span class=SpellE>execvp</span>).&nbsp; The code for <span class=GramE>setup(</span>)
and a skeleton of main() is given in <span class=SpellE>shell.c</span>.&nbsp;
Your shell must provide background and foreground options controlled by a
&quot;&amp;&quot; sign.&nbsp; If a user command ends with an &quot;&amp;&quot;,
it should be run in the background.&nbsp; This means that the parent does not
wait for the command to complete before issuing a new prompt.&nbsp; If there is
no &quot;&amp;&quot;, then the parent does wait for the child to
complete.&nbsp; <br>
<br>
&nbsp;In either case, immediately after forking, the parent should print a
message indicating the <span class=SpellE><span class=GramE>pid</span></span>
of the child and whether the child is running in the background or not (ex.
[Child <span class=SpellE>pid</span> = <span class=SpellE>xxxx</span>,
background = TRUE]).&nbsp; If the command statement ends with an
&quot;&amp;&quot;, the shell must run the command in the background.&nbsp; In
this case, the shell should immediately offer a new prompt after launching the
previous command.&nbsp; If background operation is not indicated, the shell
should <span class=SpellE>wait_<span class=GramE>pid</span></span><span
class=GramE>(</span>) for the child to complete before printing &quot;Child
process complete&quot; and offering a new prompt.&nbsp;&nbsp; (Note: you need
to use <span class=SpellE>wait_<span class=GramE>pid</span></span><span
class=GramE>(</span>) rather than wait() because wait() will return if <b>any</b>
child is done not just the one you want to wait for.)&nbsp;&nbsp; Example<span
class=GramE>:</span><br>
<br>
<span class=SpellE>kbshell</span>[1]: time sleep 8 &amp;<br>
[Child <span class=SpellE>pid</span> = 26358, background = TRUE]<br>
<span class=SpellE>kbshell</span>[2]: date<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>[Child
<span class=SpellE><span class=GramE>pid</span></span> = 26359, background =
FALSE]<span style='mso-tab-count:2'>              </span>/* Note that the order
of the next couple statements depends on the scheduler */<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>Mon
Jan 11 22:48:42 PDT 2016<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>Child
process complete<o:p></o:p></span></p>

<p class=MsoNormal><span class=SpellE><span class=GramE><span style='mso-fareast-font-family:
"Times New Roman"'>kbshell</span></span></span><span class=GramE><span
style='mso-fareast-font-family:"Times New Roman"'>[</span></span><span
style='mso-fareast-font-family:"Times New Roman"'>3]:<br>
real&nbsp;&nbsp;&nbsp; 0m8.018s<span style='mso-tab-count:5'>                                                           </span>/*
Note this is the child output which is printed after the parent has completed
another command */<br>
user&nbsp;&nbsp;&nbsp; 0m0.001s<br>
sys&nbsp;&nbsp;&nbsp;&nbsp; 0m0.001s<br>
<span class=SpellE>kbshell</span>[4]: time sleep 8<br>
[Child <span class=SpellE>pid</span> = 26360, background = FALSE] <br>
real&nbsp;&nbsp;&nbsp; 0m8.018s<span style='mso-tab-count:5'>                                                           </span>/*
This is the child output before the parent prints another prompt. */<br>
user&nbsp;&nbsp;&nbsp; 0m0.001s<br>
sys&nbsp;&nbsp;&nbsp;&nbsp; 0m0.001s <br>
Child process complete<br>
<span class=SpellE><span class=GramE>kbshell</span></span><span class=GramE>[</span>5]:<br>
<br>
Note that, in the foreground case, since we don't know whether the child or
parent will execute first after the fork, the <span class=SpellE>pid</span>
message may come before or after child's output.<br>
<br>
5. Lastly, your shell must offer a history function as described in the
background section above.&nbsp; Your shell will maintain the last 10 commands
that the user has issued.&nbsp; The user can instruct the shell to list the
history by pressing &quot;Control-z&quot;.&nbsp; This will cause a signal to be
sent to your shell.&nbsp; If a signal is not handled by a process, the process
is terminated, so you will need to write a signal handler.&nbsp; That signal
handler will print out the contents of the shell history.&nbsp; An example
signal handler is provided in <span class=SpellE>signal.c</span>.&nbsp; <br>
<br>
The user may then indicate that they wish to re-execute a command in the
history by typing &quot;r x&quot; where x is the number of the command in the
history list.&nbsp; If they type &quot;r&quot;, you should execute the most
recently executed command in the history.&nbsp; In either case, you need to
echo back the command to the screen before executing and insert the command as
the most recently executed command in the history.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>Note:
The Linux OS gets displeased when the <span class=GramE>read(</span>) call in
setup() is interrupted in order to print out the history (meaning that the OS
will kill your process). You can fix this by adding the following line before
the call to <span class=SpellE><span class=GramE>sigaction</span></span><span
class=GramE>(</span>) when initializing your signal handler:<o:p></o:p></span></p>

<p class=MsoNormal><span class=SpellE><span style='mso-fareast-font-family:
"Times New Roman"'>handler.sa_flags</span></span><span style='mso-fareast-font-family:
"Times New Roman"'> = SA_RESTART;<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>This
will cause the <span class=GramE>read(</span>) system call to restart after the
interrupt.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>Here
are a couple links which explain this issue:<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'><a
href="http://beej.us/guide/bgipc/output/html/multipage/signals.html">http://beej.us/guide/bgipc/output/html/multipage/signals.html</a><o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'><a
href="http://www.gnu.org/s/libc/manual/html_node/Flags-for-Sigaction.html">http://www.gnu.org/s/libc/manual/html_node/Flags-for-Sigaction.html</a><o:p></o:p></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
style='mso-fareast-font-family:"Times New Roman"'>

<hr size=2 width="100%" align=center>

</span></div>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'><br>
<b>Notes<span class=GramE>:</span></b><br>
If you are unfamiliar with C function calls, here is an excellent link to
on-line man pages, specifically for Linux.&nbsp; <a
href="http://www.die.net/doc/linux/man/">http://www.die.net/doc/linux/man/</a>&nbsp;
<br>
<br>
If you haven't developed code in the UNIX environment before, here is a good
link<span class=GramE>:</span><br>
<a href="http://www.ece.utexas.edu/%7Ebevans/talks/software_development/">http://www.ece.utexas.edu/~bevans/talks/software_development/</a><br>
and this one has some tutorials on the editors available:<br>
<a href="http://www.cisl.ucar.edu/docs/access/tools.html">http://www.cisl.ucar.edu/docs/access/tools.html</a><br>
<br>
It's always a good idea to use a <span class=SpellE>makefile</span>.&nbsp; You
put all your file dependencies in the file and type &quot;make&quot; on the
command line to build the project.&nbsp; Here is an example called &quot;<span
class=SpellE>makefile</span>&quot;:<br>
# <span class=GramE>This</span> is a comment.&nbsp; OS Program 1<br>
# The 2nd line below must begin with a tab<span class=GramE>.</span><br>
<span class=SpellE>kbshell</span>: <span class=SpellE>kbshell.c</span><br>
&nbsp;&nbsp;&nbsp; <span class=SpellE>gcc</span> -Wall <span class=SpellE>kbshell.c</span>
-o <span class=SpellE>kbshell</span><br>
<br>
If you are unfamiliar with C, try starting with the fork() example program on
page 113 (8<sup>th</sup> edition) or page 118 (9<sup>th</sup> edition) of your
book.&nbsp; Get that working and then add functionality.<br>
<br>
When testing your background jobs, you can try the command &quot; time sleep 10
&amp;&quot; which will cause the child to block for 10 seconds and then print
out how long it slept, ensuring that the parent will run first.<br>
<br>
You may assume that no command will have more than 3 parameters.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span class=GramE><span style='mso-fareast-font-family:"Times New Roman"'>Type
“<span class=SpellE>stty</span> –a | grep <span class=SpellE>intr</span>” to
see the signals available from the keyboard.</span></span><span
style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
style='mso-fareast-font-family:"Times New Roman"'>

<hr size=2 width="100%" align=center>

</span></div>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'><br>
<b>Requirements:</b><o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>You
must write your program in C or C++ and run it on a Linux machine. <o:p></o:p></span></p>

<p>Your program must be well-commented including function headers and
explanations of complex code.&nbsp; Proper indentation is expected.</p>

<div class=MsoNormal align=center style='text-align:center'><span
style='mso-fareast-font-family:"Times New Roman"'>

<hr size=2 width="100%" align=center>

</span></div>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'><br>
<b>To hand in:</b> <o:p></o:p></span></p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l4 level1 lfo8;tab-stops:list .5in'><span style='mso-fareast-font-family:
     "Times New Roman"'>A printout of your commented code<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l4 level1 lfo8;tab-stops:list .5in'><span style='mso-fareast-font-family:
     "Times New Roman"'>A printout of your typescript file (described below)<o:p></o:p></span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l4 level1 lfo8;tab-stops:list .5in'><span style='mso-fareast-font-family:
     "Times New Roman"'>A paragraph in which you explain the meanings of the
     statistics that your program printed when it exited.&nbsp; For each
     statistic, explain what the statistic is meant to describe and why the
     value made sense for this run of your program<o:p></o:p></span></li>
</ul>

<div class=MsoNormal align=center style='text-align:center'><span
style='mso-fareast-font-family:"Times New Roman"'>

<hr size=2 width="100%" align=center>

</span></div>

<p class=MsoNormal><b><span style='mso-fareast-font-family:"Times New Roman"'>How
to generate typescript file<span class=GramE>:</span></span></b><span
style='mso-fareast-font-family:"Times New Roman"'><br>
<br>
1. Log on to your Linux account. <br>
2. Start up the script command. &quot;<span class=GramE>script</span>&quot;<br>
3. Run your shell. &quot;<span class=SpellE><span class=GramE>xxshell</span></span>&quot;<br>
4. Issue this command to your shell.&nbsp; &quot;<span class=SpellE><span
class=GramE>cp</span></span> <span class=SpellE>xxshell</span> <span
class=SpellE>tempfile</span>&quot;<br>
5. Issue this command to your shell.&nbsp; &quot;<span class=GramE>ls</span> -l
<span class=SpellE>tempfile</span>&quot;<br>
6. Issue the time command in the foreground.&nbsp; &quot;<span class=GramE>time</span>
sleep 5&quot;<br>
7. Issue the time command in the background.&nbsp; &quot;<span class=GramE>time</span>
sleep 15 &amp;&quot;<br>
8. Before the child completes, issue the date command to your shell.&nbsp;
&quot;<span class=GramE>date</span>&quot; <o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>9.
Wait for the child to complete before continuing.<o:p></o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'>10.
Issue the whisper command.<span style='mso-spacerun:yes'>  </span>“whisper WHAT
A GREAT DAY”<br>
11. Press Control-z to show the shell history.<br>
12. Repeat the last command by typing &quot;r&quot;.<br>
13. Repeat the second command by typing &quot;r 2&quot;.<br>
14. Issue the exit command.&nbsp; &quot;exit&quot;<br>
15. Exit from script program. &quot;exit&quot;<br>
<br>
The resulting script file is called &quot;typescript&quot;.<o:p></o:p></span></p>

<div class=MsoNormal align=center style='text-align:center'><span
style='mso-fareast-font-family:"Times New Roman"'>

<hr size=2 width="100%" align=center>

</span></div>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'>How
to get started:<o:p></o:p></span></b></p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><b
style='mso-bidi-font-weight:normal'><span style='mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></b></p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='mso-fareast-font-family:"Times New Roman"'>Do your development <b>incrementally</b>.&nbsp;
So:<o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>I
suggest doing this project in parts. Each time you get one part done, save it
off to the side so that you always have something to hand in. I would suggest
these steps<span class=GramE>:</span><br>
<br>
1. Download <span class=SpellE>myshell.c</span> and <span class=SpellE>mysignal.c</span>,
upload to your Linux account, compile and run.<br>
2. Add in the startup statement for your shell and the modified command prompt.
<br>
2. Modify <span class=SpellE>myshell.c</span> to fork off a child process for
each command entered and wait for each child to complete before going on the
next one. You can use the <span class=GramE>fork(</span>) example from your
book.<br>
3. Look at the background variable and wait only if command is run in
foreground.<br>
4. Add in the easy built-in commands (whisper and exit.)<br>
5. Add in the signal handler for SIGTSTP, just printing some statement.<br>
6. Now build a history array from the commands as they are entered and print
the contents of this array in the signal handler.<br>
7. Now add the built-in &quot;r&quot; command to allow the user to repeat
commands from the history array.</p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'>8.
Collect your output.<span style='mso-fareast-font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt'><span
style='mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span style='mso-fareast-font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

</div>

</body>

</html>
